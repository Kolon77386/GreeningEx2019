# プレイヤーについて

# プレイヤーの動き([前回のドキュメント](https://docs.google.com/document/d/1M3HuHCMwcyX0YxrCZ7hcdabwtVTFSJ9eM1Oxgyk7jSw/)より)

## 操作
- 左右キー or ADキー
  - 左右移動
- 上下キー or WSキー
  - ツタの昇り降り
- Z or Shiftキー
  - 水やりキー
- X or Spaceキー
  - 行動キー。条件によって動きが変わる

なお、確認などの操作は、水やりと行動の双方を有効にして、決定キーとする。

## 行動
- 空からハスを落下傘がわりにして降りてくる
- 棒立ち
- 左右移動
- 水やり
- 水に落ちてミス
- 苗を持ち上げる
- 苗を運ぶ
- 苗を置く
- ツタにつかまる
- ツタの昇り降り
- 綿毛につかまる
- キノコジャンプ
- 落下
- 玉乗り(押すのと乗る2つの動作が混ざっている。要検討)
- 花ジャンプ
- クリアの星に触れてから、次のステージに飛び立つアニメ

# 状態遷移(じょうたいせんい)
各状態から、他の状態に遷移する条件を整理する。

※実装のための仮決めであり、最終決定ではない。実際に操作してみて、もっとよい方法が見つかったり、比較したい操作方法があれば、複数のパターンを作って比較する。

## ゲーム開始
- 空からハスを落下傘がわりにして降りてくる
- 着地した
  - 棒立ちへ
  - 「スタート」の表示

## 棒立ち
- 足場がない
  - 落下へ
- 左右キーが押された
  - 左右移動へ
- 水キーが押された
  - 水やりへ
- アクションキーが押された
  - 苗があったら
    - 苗を持ち上げるへ
  - ツタがあったら
    - ツタを登るへ
  - 綿毛があったら
    - 綿毛につかまるへ
  - キノコがあったら(要検討)
    - キノコジャンプへ
  - 玉があったら(要検討)
    - 玉乗りへ
  - 花があったら(要検討)
    - 花ジャンプへ

## 左右移動

## 水やり

## 水に落ちてミス

## 苗を持ち上げる

## 苗を運ぶ

## 苗を置く

## ツタにつかまる

## ツタの昇り降り

## 綿毛につかまる

## キノコジャンプ

## 落下

## 玉乗り

## 花ジャンプ

## クリアの星に触れてから、次のステージに飛び立つアニメ


# 状態名を決める


# AnimatorのParameterを決める
- 同時になってはいけない状態(=排他的という)は、enumで定義して、AnimatorにはIntegerで渡す
  - 棒立ちや左右移動など
- 他の動作に追加して動かしたい場合は、Bool型
  - 苗を運ぶなど
- プレイヤーの行動は変わらないが、アニメの切り替えが発生する要素は、適切な型で設定
  - 上昇中と落下中を切り替えるためのY速度なら、Float型
