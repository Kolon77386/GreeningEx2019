# 簡易ステージエディター
ステージを構築するための簡易なステージエディターを作りたい。

## 要件
- Inspectorで、マップを構成するマップチップのプレハブを設定できる
- 置きたいマップチップの種類を、Inspectorで設定できる
- マウスでクリックした場所の、奥行きが0、XとYは整数に丸め込んだ座標に、選択中のマップチップを生成する
- すでにマップチップが置かれていたら、削除してから置く
- 置いたマップチップを削除する
- カメラをスクロールできる
- 保存は、ドラッグ＆ドロップでプレハブ化すればよい

![Inspectorのイメージ](Images/StageEditor00.png)

# 実装方法を検討する
以下を検討して、仕様を決定する。

## Inspectorで、マップを構成するマップチップのプレハブを設定

## 置きたいマップチップの種類を、Inspectorで設定

## マウスでクリックした場所の、奥行きが0、XとYは整数に丸め込んだ座標に、選択中のマップチップを生成
### マウスでクリックしたワールド座標の求め方

### X,Y座標の丸め込み方

### マップチッププレハブの作り方。Pivot(ピボット)とは

## 置いたマップチップを削除

## すでにマップチップが置かれていたら、削除してから置く

## カメラをスクロール

# マップチップの生成
`Instantiate()`を使ってオブジェクトを生成すると、プレハブとの連携が途切れてしまう。そこで、Unityエディター上でしか利用できないエディターメソッドである`PrefabUtility.InstantiatePrefab()`でオブジェクトを生成するとよい。

なお、このスクリプトはエディター専用のため、ビルド時にコードが残っているとエラーが発生する。`#if UNITY_EDITOR`～`#endif`で囲んでおくこと。
